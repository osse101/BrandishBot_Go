# Environment Schema Version
# This version must match the application's expected schema version
ENV_SCHEMA_VERSION=1.0

# Database Configuration
DB_USER=dev
DB_PASSWORD=change_this_secure_password
DB_HOST=localhost
DB_PORT=5432
DB_NAME=app

# Database Pool Configuration
DB_MAX_CONNS=20
DB_MAX_CONN_IDLE_TIME=5m
DB_MAX_CONN_LIFETIME=30m

# Server Configuration
LOG_LEVEL=info
LOG_FORMAT=text
LOG_DIR=logs
SERVICE_NAME=brandish-bot
VERSION=dev
ENVIRONMENT=dev

# Grafana Configuration
# Grafana admin credentials (CHANGE IN PRODUCTION!)
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin
# Grafana root URL for proper redirects
GRAFANA_ROOT_URL=http://localhost:3000

# URL of the Core API service (accessible to the bot)
API_URL=http://localhost:8080

# Security Configuration
# Generate a secure API key with: openssl rand -hex 32
# This key MUST be included in all requests via X-API-Key header
API_KEY=generate_with_openssl_rand_hex_32

# Docker Registry Configuration
# Your Docker Hub username or private registry URL
DOCKER_USER=your_docker_hub_username
# The name of the image repository
DOCKER_IMAGE_NAME=brandishbot

# Discord Configuration
DISCORD_TOKEN=your_discord_bot_token
DISCORD_APP_ID=your_discord_app_id
DISCORD_WEBHOOK_PORT=8082
DISCORD_GUILD_ID=your_discord_guild_id
DISCORD_PUBLIC_KEY=your_discord_public_key
DISCORD_DEV_CHANNEL_ID=your_discord_channel_id_for_dev_logs
DISCORD_DIGGING_GAME_CHANNEL_ID=your_discord_digging_game_channel_id
DISCORD_NOTIFICATION_CHANNEL_ID=your_notification_channel_id
# Discord Internal Config
DISCORD_FORCE_COMMAND_UPDATE=false
# StreamerBot Configuration
# WebSocket URL for Streamer.bot WebSocket Server
# For Docker: use host.docker.internal to reach host machine
# For native: use 127.0.0.1 or localhost
# Default Streamer.bot WebSocket port is 8080, verify in Streamer.bot settings
STREAMERBOT_ENABLED=true
STREAMERBOT_WEBHOOK_URL=ws://host.docker.internal:8090/

# GitHub Configuration
GITHUB_TOKEN=ghp_your_github_token
GITHUB_OWNER_REPO=osse101/BrandishBot_Go

# Gamble Configuration
GAMBLE_JOIN_DURATION_MINUTES=2

# Development Mode (set to 'true' to bypass cooldowns and enable test features)
DEV_MODE=false

# Event Publishing Configuration
# Max retries for failed event publishes (exponential backoff: 2s, 4s, 8s, 16s, 32s)
EVENT_MAX_RETRIES=5
# Base delay for exponential backoff (e.g. 2s, 5s, etc.)
EVENT_RETRY_DELAY=2s
# Path to dead-letter log file for events that failed after all retries
EVENT_DEADLETTER_PATH=logs/event_deadletter.jsonl

# Subscription Worker Settings
# How often to check for expiring subscriptions (default: 6h)
SUBSCRIPTION_CHECK_INTERVAL=6h
# Default subscription length (default: 720h / 30 days)
SUBSCRIPTION_DEFAULT_DURATION=720h
# Grace period before marking expired (default: 24h)
SUBSCRIPTION_GRACE_PERIOD=24h

# DevTool Configuration
ALLOW_MIGRATION_SQUASH=0